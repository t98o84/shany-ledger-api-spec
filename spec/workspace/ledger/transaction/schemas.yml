WorkspaceLedgerTransactionCreateRequestBody:
  allOf:
    - $ref: "#/WorkspaceLedgerTransaction"
    - properties:
        description:
          $ref: "#/WorkspaceLedgerTransactionDescriptionWrite"

WorkspaceLedgerTransactions:
  allOf:
    - $ref: "../../../util/pagination/schemas.yml#/CursorPagination"
    - properties:
        data:
          type: array
          items:
            $ref: "#/WorkspaceLedgerTransaction"

WorkspaceLedgerTransaction:
  title: Transaction
  description: 台帳の取引情報です。
  type: object
  properties:
    id:
      allOf:
        - $ref: "#/WorkspaceLedgerTransactionId"
        - readOnly: true
    type:
      $re: "#/WorkspaceLedgerTransactionType"
    description:
      $ref: "#/WorkspaceLedgerTransactionDescriptionRead"
    data:
      $ref: "#/WorkspaceLedgerTransactionData"
  required:
    - id
    - data

WorkspaceLedgerTransactionId:
  $ref: "../../../util/id/schemas.yml#/Uuid"

WorkspaceLedgerTransactionType:
  description: |
    | Type                   | Description                                                                              | 
    | ---------------------- | ---------------------------------------------------------------------------------------- | 
    | Deposit                | 自身の台帳への預け入れです。                                                                  | 
    | Withdrawal             | 自身の台帳からの引き出しです。                                                                | 
    | Receipt                | 自身以外の台帳からの受け取りです。                                                             |
    | Transfer               | 自身以外の台帳への振り込みです。                                                               |
  type: string
  enum:
    - Deposit
    - Withdrawal
    - Receipt
    - Transfer

WorkspaceLedgerTransactionDescriptionWrite:
  description: textかfilesどちらかは必ず指定する必要があります。
  type: object
  properties:
    text:
      $ref: "#/WorkspaceLedgerTransactionDescriptionText"
    files:
      type: array
      items:
        $ref: "#/WorkspaceLedgerTransactionDescriptionFileUpload"

WorkspaceLedgerTransactionDescriptionRead:
  description: textかfilesどちらかは必ず指定する必要があります。
  type: object
  properties:
    text:
      $ref: "#/WorkspaceLedgerTransactionDescriptionText"
    files:
      type: array
      items:
        $ref: "#/WorkspaceLedgerTransactionDescriptionFilePath"

WorkspaceLedgerTransactionDescriptionText:
  type: string
  maxLength: 10000

WorkspaceLedgerTransactionDescriptionFileUpload:
  $ref: "../../../util/file/schemas.yml#/FileUpload"

WorkspaceLedgerTransactionDescriptionFilePath:
  $ref: "../../../util/file/schemas.yml#/FilePath"

WorkspaceLedgerTransactionData:
  type: integer
