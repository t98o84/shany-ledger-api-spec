WorkspaceUnits:
  title: WorkspaceUnits
  description: 台帳の管理単位一覧です。
  allOf:
    - $ref: "../../util/pagination/schemas.yml#/CursorPagination"
    - properties:
        data:
          type: array
          items:
            $ref: "#/WorkspaceUnit"

WorkspaceUnit:
  title: WorkspaceUnit
  description: 台帳の管理単位です。
  type: object
  properties:
    id:
      allOf:
        - $ref: "#/WorkspaceUnitId"
        - readOnly: true
    category:
      $ref: "#/WorkspaceUnitCategory"
    name:
      $ref: "#/WorkspaceUnitName"
    symbol:
      $ref: "#/WorkspaceUnitSymbol"
    description:
      $ref: "#/WorkspaceUnitDescription"
    supplementary_units:
      $ref: "#/WorkspaceUnitSupplementaryUnits"
  required:
    - id
    - name

WorkspaceUnitId:
  $ref: "../../util/id/schemas.yml#/Uuid"

WorkspaceUnitCategory:
  description: |
    - Money: お金
    - Length: 長さ
    - Area: 面積
    - Volume: 体積・容積
    - WeightAndMass: 重量・質量
    - Quantity: 数量
    - Time: 時間
    - Energy: エネルギー
  type: string
  enum:
    - "Money"
    - "Length"
    - "Area"
    - "Volume"
    - "WeightAndMass"
    - "Quantity"
    - "Time"
    - "Energy"

WorkspaceUnitName:
  type: string
  minLength: 1
  maxLength: 100

WorkspaceUnitSymbol:
  type: string
  minLength: 1
  maxLength: 10

WorkspaceUnitDescription:
  type: string
  maxLength: 255

WorkspaceUnitSupplementaryUnits:
  type: array
  items:
    $ref: "#/WorkspaceUnitSupplementaryUnit"

WorkspaceUnitSupplementaryUnit:
  type: object
  properties:
    name:
      $ref: "#/WorkspaceUnitName"
    symbol:
      $ref: "#/WorkspaceUnitSymbol"
    description:
      $ref: "#/WorkspaceUnitDescription"
    conversion_rate:
      $ref: "#/WorkspaceUnitConversionRate"
  required:
    - name
    - conversion_rate

WorkspaceUnitConversionRate:
  description: ベース単位からターゲット単位へ変換する際の倍率です。（ベース単位：1m / 単位：1mm の場合「0.001」）
  type: number
  format: double
